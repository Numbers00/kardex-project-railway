{% extends 'kardex_app/main.html' %}
{% load crispy_forms_tags %}
{% block content %}

{% load static %}
<link rel="stylesheet" href= {% static "css/nurse-dashboard.css" %}>
<div class="container px-5">
    <div class="card border-0">
      <!-- Nurse Information -->
      <div class="card-body d-flex border-0 justify-content-center align-items-center">
        <div class="nurse-image col-4 px-5 img-fluid">
          {% if nurse.picture %}
          <img src={{nurse.picture.url}} class="card-img-top" alt="">
          {% else %}
          <img src={% static 'images/DO-3.jpg' %} class="card-img-top" alt="">
          {% endif %}
        </div>
        <form action="" method="post" enctype="multipart/form-data">
          {% csrf_token %}
          <div class="card-block col">
            <ul class="list-group list-group-flush">
              <li class="nurse-update-1 list-group-item">
                <div class="flex-row d-flex">
                  <div class="form-floating me-2 flex-column">
                    {{form.first_name}}
                    <label for="floatingInput">Edit First Name</label>
                  </div>
                  <div class="form-floating me-2 flex-column">
                    {{form.last_name}}
                    <label for="floatingInput">Edit Last Name</label>
                  </div>
                  <div class="update-btn mt-2 d-flex col justify-content-end">
                    <button class="btn btn-success w-128" type="submit">
                      <i class="fa-solid fa-check"></i>
                      Update Nurse
                    </button>
                  </div>
                </div>
              </li>
              <li class="nurse-update-2 list-group-item">
                <div class="flex-row d-flex">
                  <div class="form-floating me-2 flex-column">
                    {{form.username}}
                    <label for="floatingInput">Edit Username</label>
                  </div>
                  <div class="form-floating me-2 flex-column">
                    {{form.email}}
                    <label for="floatingInput">Edit Last Name</label>
                  </div>
                </div>
              </li>
              <li class="nurse-update-3 list-group-item">
                <div class="flex-row d-flex">
                  <div class="form-floating me-2 flex-column">
                    {{form.sex}}
                    <label for="floatingInput">Edit Sex</label>
                  </div>
                  <div class="form-floating me-2 flex-column">
                    {{form.birthday}}
                    <label for="floatingInput">Edit Birthday</label>
                  </div>
                </div>
              </li>
              <!-- Old Sex Dropdown -->
              <!-- <li class="nurse-demographic list-group-item h2 d-flex">
                <div class="gender-btn flex-column d-flex justify-content-center align-items-center mb-2">
                  <button
                  class="btn dropdown-toggle px-4 text-dark"
                  type="button"
                  id="sortingDropdown"
                  style="border-color: rgb(209, 209, 209);"
                  data-bs-toggle="dropdown"
                  aria-expanded="false"
                  >
                  Male
                </button>
                <ul class="dropdown-menu" aria-labelledby="sortingDropdown">
                  <li><a class="dropdown-item" href="#">Male</a></li>
                  <li><a class="dropdown-item" href="#">Female</a></li>
                </ul>
                </div>
              </li> -->
              <li class="nurse-duty list-group-item h2">
                <div class="flex-row d-flex">
                  <div class="duty-text flex-column me-2">
                    <strong>On Duty:</strong> 
                  </div>
                  <div class="duty-initial-time flex-column me-2">
                    <input
                    type="text"
                    class="form-control w-128 text-center"
                    value="0700"
                    placeholder="30"
                    readonly
                  >
                  </div>
                  <div class="flex-column me-2">
                    to
                  </div>
                  <div class="duty-end-time flex-column">
                    <input
                    type="text"
                    class="form-control w-128 text-center"
                    value="1800"
                    placeholder="30"
                    readonly
                  >
                  </div>
                  <div class="update-btn d-flex justify-content-end col">
                    <a href="{% url 'view-profile' %}" class="btn btn-danger w-128">
                      <i class="fa-solid fa-ban"></i>
                      Cancel
                    </a>
                  </div>
                </div>
              </li>
              <li class="change-password list-group-item">
                <a class="link change-password-link text-danger" href="{% url 'password-reset' %}">
                  <u>Change Password?</u>
                </a>
              </li>
            </ul>
           </div>
        </form>

      </div>
    </div>
  </div>
</div>

<!-- Kardex Section -->
<section class="kardex-section position-relative container-fluid container-xxl d-flex flex-column my-4 px-md-64">
  <div class="w-100 d-flex flex-column flex-xl-row justify-content-xl-between align-items-center">
    <div class="d-flex flex-column align-items-center flex-md-row mb-3">
      <button type="button" class="btn btn-outline-dark fw-bold mb-3 me-md-3 mb-md-0">
        0 Filters Selected
      </button>
      <div class="d-flex flex-column align-items-center flex-sm-row">
        <span class="fw-bold me-2">Date Range</span>
        <div class="d-flex align-items-center">
          <input
            type="text"
            class="form-control w-156 text-center me-2"
            placeholder="YYYY-MM-DD"
          >
          <span class="fw-bold me-2">to</span>
          <input
            type="text"
            class="form-control w-156 text-center"
            value="YYYY-MM-DD"
          >
        </div>
      </div>
    </div>
    <div class="d-flex flex-column align-items-center flex-sm-row mb-3">
      <div class="d-flex mb-3 mb-sm-0">
        <input class="form-control w-156 me-2" type="search" placeholder="Search" aria-label="Search">
        <button type="button" class="btn btn-outline-dark me-3">Search</button>
      </div>
      <div class="dropdown">
        <button
          class="btn btn-outline-dark dropdown-toggle fw-bold px-4"
          type="button"
          id="sortingDropdown"
          data-bs-toggle="dropdown"
          aria-expanded="false">
          Edited - Latest
        </button>
        <ul class="dropdown-menu" aria-labelledby="sortingDropdown">
          <li><a class="dropdown-item" href="#">Edited - Latest</a></li>
          <li><a class="dropdown-item" href="#">Edited - Oldest</a></li>
          <li><a class="dropdown-item" href="#">Name - Descending</a></li>
          <li><a class="dropdown-item" href="#">Name - Ascending</a></li>
        </ul>
      </div>
    </div>
  </div>
  <div class="d-flex flex-column align-items-center flex-xl-row">
    <div class="col-xl-6 d-flex flex-column align-items-center flex-sm-row mb-3 mb-xl-0 ms-xl-4 ps-xl-2">
      <div class="d-flex mb-3 mb-sm-0">
        <button type="button" class="btn btn-outline-dark fw-bold me-2">Prev</button>
        <div class="input-group w-128 me-2">
          <span class="input-group-text" id="pageLabel">Page</span>
          <input
            type="number"
            class="form-control"
            value="1"
            aria-label="Page"
            aria-describedby="pageLabel"
          >
        </div>
        <button type="button" class="btn btn-outline-dark fw-bold me-3">Next</button>
      </div>
      <button type="button" class="btn btn-outline-dark fw-bold">Refresh</button>
    </div>
    <div class="col-xl-6 d-flex align-items-center">
      <span class="fs-5 text-center text-xl-start">
        Showing 1-15 out of 100 Kardex Edited by <strong>{{nurse.last_name}}, {{nurse.first_name}}</strong>
      </span>
    </div>
  </div>
  <!-- Change Specific Nurse -->
  <div class="kardex-group-container d-flex flex-wrap px-2 px-sm-5">
    {% for kardex in kardexs %}
    <div class="col-12 col-lg-6 col-xl-4 my-2 px-2">
      {% include 'kardex_app/partials/small-kardex.html' with kardex=kardex %}
    </div>
    {% endfor %}
  </div>
</section>
  
<!-- UPDATE NURSE
<div>
{{form.username}}
    <div class="container">
        <h1>Update Nurse Page</h1>
        <br>
        <div class="card">
          <div class="card-header">
            Update Nurse Form
          </div>
          <div class="card-body">
            <form action="" method="post" enctype="multipart/form-data">
              {% csrf_token %}
              {{form|crispy}}
              Insert Input Fields
              Update Button
              <button class="btn btn-outline-success" type="submit">
                <span class="material-icons">edit</span>
                Update Nurse
              </button>
              Cancel Button
              <a href="{% url 'view-profile' %}" class="btn btn-outline-danger">
                <span class="material-icons">block</span>
                Cancel
              </a>
            </form>
          </div>
        </div>
      </div>
</div> -->
{% endblock content %}